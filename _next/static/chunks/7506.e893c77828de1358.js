"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7506],{55125:(e,t,r)=>{r.r(t),r.d(t,{JavaScriptScanner:()=>e8,createJavaScriptRawEngine:()=>e5,createJavaScriptRegexEngine:()=>e4,defaultJavaScriptRegexConstructor:()=>e3}),String.fromCodePoint;let n=String.raw,a=new Set(["alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit"]);function i(e,t){if(!e)throw Error(t??"Value expected");return e}let s={Alternator:"Alternator",Assertion:"Assertion",Backreference:"Backreference",Character:"Character",CharacterClassClose:"CharacterClassClose",CharacterClassHyphen:"CharacterClassHyphen",CharacterClassIntersector:"CharacterClassIntersector",CharacterClassOpen:"CharacterClassOpen",CharacterSet:"CharacterSet",Directive:"Directive",GroupClose:"GroupClose",GroupOpen:"GroupOpen",Subroutine:"Subroutine",Quantifier:"Quantifier",EscapedNumber:"EscapedNumber"},o={any:"any",digit:"digit",dot:"dot",grapheme:"grapheme",hex:"hex",newline:"newline",posix:"posix",property:"property",space:"space",word:"word"},l={flags:"flags",keep:"keep"},u={absent_repeater:"absent_repeater",atomic:"atomic",capturing:"capturing",group:"group",lookahead:"lookahead",lookbehind:"lookbehind"},p={greedy:"greedy",lazy:"lazy",possessive:"possessive"},c=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]),d=n`\[\^?`,f=`c.? | C(?:-.?)?|${n`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${n`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${n`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${n`o\{[^\}]*\}?`}|${n`\d{1,3}`}`,g=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,h=RegExp(n`
  \\ (?:
    ${f}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*
  )?
  | ${g.source}
  | ${d}
  | .
`.replace(/\s+/g,""),"gsu"),m=RegExp(n`
  \\ (?:
    ${f}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${d}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function C(e,{inCharClass:t}){let r=e[1];if("c"===r||"C"===r){var a=e;let t="c"===a[1]?a[2]:a[3];if(!t||!/[A-Za-z]/.test(t))throw Error(`Unsupported control character "${a}"`);return k(s.Character,a,{value:t.toUpperCase().codePointAt(0)-64})}if("dDhHsSwW".includes(r)){var i=e;let t=i[1].toLowerCase();return k(s.CharacterSet,i,{kind:{d:o.digit,h:o.hex,s:o.space,w:o.word}[t],negate:i[1]!==t})}if(e.startsWith(n`\o{`))throw Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(3===e.length)throw Error(`Incomplete or invalid Unicode property "${e}"`);var l=e;let{p:t,neg:r,value:n}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(l).groups;return k(s.CharacterSet,l,{kind:o.property,value:n,negate:"P"===t&&!r||"p"===t&&!!r})}if(/^\\x[89A-Fa-f]\p{AHex}/u.test(e))try{let t=e.split(/\\x/).slice(1).map(e=>parseInt(e,16)),r=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(t)),n=new TextEncoder;return[...r].map(e=>{let t=[...n.encode(e)].map(e=>`\\x${e.toString(16)}`).join("");return k(s.Character,t,{value:e.codePointAt(0)})})}catch{throw Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if("u"===r||"x"===r)return k(s.Character,e,{value:function(e){if(/^(?:\\u(?!\p{AHex}{4})|\\x(?!\p{AHex}{1,2}|\{\p{AHex}{1,8}\}))/u.test(e))throw Error(`Incomplete or invalid escape "${e}"`);return parseInt("{"===e[2]?/^\\x\{\s*(?<hex>\p{AHex}+)/u.exec(e).groups.hex:e.slice(2),16)}(e)});if(c.has(r))return k(s.Character,e,{value:c.get(r)});if(/\d/.test(r))return k(s.EscapedNumber,e,{inCharClass:t});if("\\"===e)throw Error(n`Incomplete escape "\"`);if("M"===r)throw Error(`Unsupported meta "${e}"`);if(2==[...e].length)return k(s.Character,e,{value:e.codePointAt(1)});throw Error(`Unexpected escape "${e}"`)}function k(e,t,r){return{type:e,raw:t,...r}}function y(e){let t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}function b(e){if(1!=[...e].length)throw Error(`Expected "${e}" to be a single code point`)}let w={AbsentFunction:"AbsentFunction",Alternative:"Alternative",Assertion:"Assertion",Backreference:"Backreference",CapturingGroup:"CapturingGroup",Character:"Character",CharacterClass:"CharacterClass",CharacterClassRange:"CharacterClassRange",CharacterSet:"CharacterSet",Directive:"Directive",Flags:"Flags",Group:"Group",LookaroundAssertion:"LookaroundAssertion",Pattern:"Pattern",Quantifier:"Quantifier",Regex:"Regex",Subroutine:"Subroutine",Recursion:"Recursion"},x={repeater:"repeater"},E={grapheme_boundary:"grapheme_boundary",line_end:"line_end",line_start:"line_start",search_start:"search_start",string_end:"string_end",string_end_newline:"string_end_newline",string_start:"string_start",word_boundary:"word_boundary"},$={union:"union",intersection:"intersection"},A={lookahead:"lookahead",lookbehind:"lookbehind"};function v(e,t={}){var r,c,d;let f={flags:"",normalizeUnknownPropertyNames:!1,skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t,rules:{captureGroup:!1,singleline:!1,...t.rules}},T=function(e,t={}){let r={flags:"",...t,rules:{captureGroup:!1,singleline:!1,...t.rules}};if("string"!=typeof e)throw Error("String expected as pattern");let i=function(e){if(!/^[imxDPSW]*$/.test(e))throw Error(`Flags "${e}" includes unsupported value`);let t={ignoreCase:!1,dotAll:!1,extended:!1,digitIsAscii:!1,posixIsAscii:!1,spaceIsAscii:!1,wordIsAscii:!1};for(let r of e)t[({i:"ignoreCase",m:"dotAll",x:"extended",D:"digitIsAscii",P:"posixIsAscii",S:"spaceIsAscii",W:"wordIsAscii"})[r]]=!0;return t}(r.flags),c=[i.extended],d={captureGroup:r.rules.captureGroup,getCurrentModX:()=>c.at(-1),numOpenGroups:0,popModX(){c.pop()},pushModX(e){c.push(e)},replaceCurrentModX(e){c[c.length-1]=e},singleline:r.rules.singleline},f=[],w;for(h.lastIndex=0;w=h.exec(e);){let t=function(e,t,r,i){let[c,d]=r;if("["===c){let e=function(e,t,r){let n=[k(s.CharacterClassOpen,t,{negate:"^"===t[1]})],i=1,l;for(m.lastIndex=r;l=m.exec(e);){let e=l[0];if("["===e[0]&&":"!==e[1])i++,n.push(k(s.CharacterClassOpen,e,{negate:"^"===e[1]}));else if("]"===e){if(n.at(-1).type===s.CharacterClassOpen)n.push(k(s.Character,e,{value:93}));else if(i--,n.push(k(s.CharacterClassClose,e)),!i)break}else{let t=function(e){if("\\"===e[0])return C(e,{inCharClass:!0});if("["===e[0]){let t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!a.has(t.groups.name))throw Error(`Invalid POSIX class "${e}"`);return k(s.CharacterSet,e,{kind:o.posix,value:t.groups.name,negate:!!t.groups.negate})}return"-"===e?k(s.CharacterClassHyphen,e):"&&"===e?k(s.CharacterClassIntersector,e):(b(e),k(s.Character,e,{value:e.codePointAt(0)}))}(e);Array.isArray(t)?n.push(...t):n.push(t)}}return{tokens:n,lastIndex:m.lastIndex||e.length}}(t,r,i);return{tokens:e.tokens,lastIndex:e.lastIndex}}if("\\"===c){if("AbBGyYzZ".includes(d))return{token:k(s.Assertion,r,{kind:r})};if(/^\\g[<']/.test(r)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(r))throw Error(`Invalid group name "${r}"`);return{token:k(s.Subroutine,r)}}if(/^\\k[<']/.test(r)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(r))throw Error(`Invalid group name "${r}"`);return{token:k(s.Backreference,r)}}if("K"===d)return{token:k(s.Directive,r,{kind:l.keep})};if("N"===d||"R"===d)return{token:k(s.CharacterSet,r,{kind:o.newline,negate:"N"===d})};if("O"===d)return{token:k(s.CharacterSet,r,{kind:o.any})};if("X"===d)return{token:k(s.CharacterSet,r,{kind:o.grapheme})};let e=C(r,{inCharClass:!1});return Array.isArray(e)?{tokens:e}:{token:e}}if("("===c){if("(*"===r)throw Error(`Unsupported named callout "${r}"`);if("(?{"===r)throw Error(`Unsupported callout "${r}"`);if(r.startsWith("(?#")){if(")"!==t[i])throw Error('Unclosed comment group "(?#"');return{lastIndex:i+1}}if(/^\(\?[-imx]+[:)]$/.test(r))return{token:function(e,t){let{on:r,off:n}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(e).groups;n??="";let a=(t.getCurrentModX()||r.includes("x"))&&!n.includes("x"),i=y(r),o=y(n),p={};if(i&&(p.enable=i),o&&(p.disable=o),e.endsWith(")"))return t.replaceCurrentModX(a),k(s.Directive,e,{kind:l.flags,flags:p});if(e.endsWith(":")){t.pushModX(a),t.numOpenGroups++;let r=k(s.GroupOpen,e,{kind:u.group});return(i||o)&&(r.flags=p),r}throw Error(`Unexpected flag modifier "${e}"`)}(r,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,"("===r&&!e.captureGroup||"(?:"===r)return{token:k(s.GroupOpen,r,{kind:u.group})};if("(?>"===r)return{token:k(s.GroupOpen,r,{kind:u.atomic})};if("(?="===r||"(?!"===r||"(?<="===r||"(?<!"===r)return{token:k(s.GroupOpen,r,{kind:"<"===r[2]?u.lookbehind:u.lookahead,negate:r.endsWith("!")})};if("("===r&&e.captureGroup||r.startsWith("(?<")&&r.endsWith(">")||r.startsWith("(?'")&&r.endsWith("'")){let e=k(s.GroupOpen,r,{kind:u.capturing});return"("!==r&&(e.name=r.slice(3,-1)),{token:e}}if(r.startsWith("(?~")){if("(?~|"===r)throw Error(`Unsupported absent function kind "${r}"`);return{token:k(s.GroupOpen,r,{kind:u.absent_repeater})}}throw"(?("===r?Error(`Unsupported conditional "${r}"`):Error(`Invalid or unsupported group option "${r}"`)}if(")"===r){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw Error('Unmatched ")"');return{token:k(s.GroupClose,r)}}if("#"===r&&e.getCurrentModX()){let e=t.indexOf(`
`,i);return{lastIndex:-1===e?t.length:e}}if(/^\s$/.test(r)&&e.getCurrentModX()){let e=/\s+/y;return e.lastIndex=i,{lastIndex:e.exec(t)?e.lastIndex:i}}if("."===r)return{token:k(s.CharacterSet,r,{kind:o.dot})};if("^"===r||"$"===r){let t=e.singleline?({"^":n`\A`,$:n`\Z`})[r]:r;return{token:k(s.Assertion,r,{kind:t})}}return"|"===r?{token:k(s.Alternator,r)}:g.test(r)?{token:function(e){let t={};if("{"===e[0]){let{min:r,max:n}=/^\{(?<min>\d*)(?:,(?<max>\d*))?/.exec(e).groups;if(+r>1e5||+n>1e5)throw Error("Quantifier value unsupported in Oniguruma");t.min=+r,t.max=void 0===n?+r:""===n?1/0:+n,t.kind=e.endsWith("?")?p.lazy:p.greedy}else t.min=+("+"===e[0]),t.max="?"===e[0]?1:1/0,t.kind="+"===e[1]?p.possessive:"?"===e[1]?p.lazy:p.greedy;return k(s.Quantifier,e,t)}(r)}:(b(r),{token:k(s.Character,r,{value:r.codePointAt(0)})})}(d,e,w[0],h.lastIndex);t.tokens?f.push(...t.tokens):t.token&&f.push(t.token),void 0!==t.lastIndex&&(h.lastIndex=t.lastIndex)}let x=[],E=0;f.forEach(e=>{e.type===s.GroupOpen&&(e.kind===u.capturing?e.number=++E:"("===e.raw&&x.push(e))}),E||x.forEach((e,t)=>{e.kind=u.capturing,e.number=t+1});let $=E||x.length;return{tokens:f=f.map(e=>e.type===s.EscapedNumber?function(e,t){let{raw:r,inCharClass:a}=e,i=r.slice(1);if(!a&&("0"!==i&&1===i.length||"0"!==i[0]&&+i<=t))return[k(s.Backreference,r)];let o=[],l=i.match(/^[0-7]+|\d/g);for(let e=0;e<l.length;e++){let t,a=l[e];if(0===e&&"8"!==a&&"9"!==a){if((t=parseInt(a,8))>127)throw Error(n`Octal encoded byte above 177 unsupported "${r}"`)}else t=a.codePointAt(0);o.push(k(s.Character,(0===e?"\\":"")+a,{value:t}))}return o}(e,$):e).flat(),flags:i}}(e,{flags:f.flags,rules:{captureGroup:f.rules.captureGroup,singleline:f.rules.singleline}}),W={capturingGroups:[],current:0,hasNumberedRef:!1,namedGroupsByName:new Map,normalizeUnknownPropertyNames:f.normalizeUnknownPropertyNames,parent:null,skipBackrefValidation:f.skipBackrefValidation,skipLookbehindValidation:f.skipLookbehindValidation,skipPropertyNameValidation:f.skipPropertyNameValidation,subroutines:[],token:null,tokens:T.tokens,unicodePropertyMap:f.unicodePropertyMap,walk:z};function z(e,t){let r=T.tokens[W.current];switch(W.parent=e,W.token=r,W.current++,r.type){case s.Alternator:return _();case s.Assertion:return function({kind:e}){return S(i({"^":E.line_start,$:E.line_end,"\\A":E.string_start,"\\b":E.word_boundary,"\\B":E.word_boundary,"\\G":E.search_start,"\\y":E.grapheme_boundary,"\\Y":E.grapheme_boundary,"\\z":E.string_end,"\\Z":E.string_end_newline}[e],`Unexpected assertion kind "${e}"`),{negate:e===n`\B`||e===n`\Y`})}(r);case s.Backreference:return function(e){let{raw:t}=e.token,r=/^\\k[<']/.test(t),n=r?t.slice(3,-1):t.slice(1),a=(r,n=!1)=>{let a=e.capturingGroups.length,i=!1;if(r>a)if(e.skipBackrefValidation)i=!0;else throw Error(`Not enough capturing groups defined to the left "${t}"`);return e.hasNumberedRef=!0,I(n?a+1-r:r,{orphan:i})};if(r){let r=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(n);if(r)return a(+r.groups.num,!!r.groups.sign);if(/[-+]/.test(n))throw Error(`Invalid backref name "${t}"`);if(!e.namedGroupsByName.has(n))throw Error(`Group name not defined to the left "${t}"`);return I(n)}return a(+n)}(W);case s.Character:return P(r.value,{useLastValid:!!t.isCheckingRangeEnd});case s.CharacterClassHyphen:var c=W,d=t;let{parent:f,tokens:g,walk:h}=c,m=f.elements.at(-1),C=g[c.current];if(!d.isCheckingRangeEnd&&m&&m.type!==w.CharacterClass&&m.type!==w.CharacterClassRange&&C&&C.type!==s.CharacterClassOpen&&C.type!==s.CharacterClassClose&&C.type!==s.CharacterClassIntersector){let e=h(f,{...d,isCheckingRangeEnd:!0});if(m.type===w.Character&&e.type===w.Character)return f.elements.pop(),function(e,t){if(t.value<e.value)throw Error("Character class range out of order");return{type:w.CharacterClassRange,min:e,max:t}}(m,e);throw Error("Invalid character class range")}return P(45);case s.CharacterClassOpen:return function(e,t){let{token:r,tokens:n,walk:a}=e,i=n[e.current],o=[F()],l=B(i);for(;l.type!==s.CharacterClassClose;){if(l.type===s.CharacterClassIntersector)o.push(F()),e.current++;else{let e=o.at(-1);e.elements.push(a(e,t))}l=B(n[e.current],i)}let u=F({negate:r.negate});return 1===o.length?u.elements=o[0].elements:(u.kind=$.intersection,u.elements=o.map(e=>1===e.elements.length?e.elements[0]:e)),e.current++,u}(W,t);case s.CharacterSet:return function({token:e,normalizeUnknownPropertyNames:t,skipPropertyNameValidation:r,unicodePropertyMap:n}){let{kind:i,negate:s,value:l}=e;if(i===o.property){let e=O(l);if(!a.has(e)||n?.has(e))return U(l,{negate:s,normalizeUnknownPropertyNames:t,skipPropertyNameValidation:r,unicodePropertyMap:n});i=o.posix,l=e}return i===o.posix?function(e,t){let r=!!t?.negate;if(!a.has(e))throw Error(`Invalid POSIX class "${e}"`);return{type:w.CharacterSet,kind:o.posix,value:e,negate:r}}(l,{negate:s}):L(i,{negate:s})}(W);case s.Directive:return function(e,t){let r={type:w.Directive,kind:e};return e===l.flags&&(r.flags=t.flags),r}(i(l[r.kind],`Unexpected directive kind "${r.kind}"`),{flags:r.flags});case s.GroupOpen:return function(e,t){var r,n;let{token:a,tokens:i,capturingGroups:o,namedGroupsByName:l,skipLookbehindValidation:p,walk:c}=e,d=function({flags:e,kind:t,name:r,negate:n,number:a}){switch(t){case u.absent_repeater:var i=x.repeater;if(i!==x.repeater)throw Error(`Unexpected absent function kind "${i}"`);return{type:w.AbsentFunction,kind:i,alternatives:[_()]};case u.atomic:return N({atomic:!0});case u.capturing:return M(a,r);case u.group:return N({flags:e});case u.lookahead:case u.lookbehind:return R({behind:t===u.lookbehind,negate:n});default:throw Error(`Unexpected group kind "${t}"`)}}(a),f=d.type===w.AbsentFunction,g=d.kind===A.lookbehind,h=g&&d.negate;if(d.type===w.CapturingGroup&&(o.push(d),d.name&&(r=d.name,n=[],l.has(r)||l.set(r,n),l.get(r)).push(d)),f&&t.isInAbsentFunction)throw Error("Nested absent function not supported by Oniguruma");let m=D(i[e.current]);for(;m.type!==s.GroupClose;){if(m.type===s.Alternator)d.alternatives.push(_()),e.current++;else{let e=d.alternatives.at(-1),r=c(e,{...t,isInAbsentFunction:t.isInAbsentFunction||f,isInLookbehind:t.isInLookbehind||g,isInNegLookbehind:t.isInNegLookbehind||h});if(e.elements.push(r),(g||t.isInLookbehind)&&!p){let e="Lookbehind includes a pattern not allowed by Oniguruma";if(h||t.isInNegLookbehind){if(r.kind===A.lookahead||r.type===w.CapturingGroup)throw Error(e)}else if(r.kind===A.lookahead||r.kind===A.lookbehind&&r.negate)throw Error(e)}}m=D(i[e.current])}return e.current++,d}(W,t);case s.Quantifier:return function({token:e,parent:t}){let{min:r,max:n,kind:a}=e,s=t.elements.at(-1);if(!s||s.type===w.Assertion||s.type===w.Directive||s.type===w.LookaroundAssertion)throw Error("Quantifier requires a repeatable token");let o=G(s,r,n,i(p[a],`Unexpected quantifier kind "${a}"`));return t.elements.pop(),o}(W);case s.Subroutine:return function(e){var t;let{token:r,capturingGroups:n,subroutines:a}=e,i=r.raw.slice(3,-1),s=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(i);if(s){let t=+s.groups.num,r=n.length;if(e.hasNumberedRef=!0,(i=({"":t,"+":r+t,"-":r+1-t})[s.groups.sign])<1)throw Error("Invalid subroutine number")}else"0"===i&&(i=0);let o=(t=i,{type:w.Subroutine,ref:t});return a.push(o),o}(W);default:throw Error(`Unexpected token type "${r.type}"`)}}let V=(c={type:w.Pattern,alternatives:[_()]},d=(r=T.flags,{type:w.Flags,...r}),{type:w.Regex,pattern:c,flags:d}),j=V.pattern.alternatives[0];for(;W.current<T.tokens.length;){let e=z(j,{});e.type===w.Alternative?(V.pattern.alternatives.push(e),j=e):j.elements.push(e)}let{capturingGroups:H,hasNumberedRef:X,namedGroupsByName:Q,subroutines:Z}=W;if(X&&Q.size&&!f.rules.captureGroup)throw Error("Numbered backref/subroutine not allowed when using named capture");for(let{ref:e}of Z)if("number"==typeof e){if(e>H.length)throw Error("Subroutine uses a group number that's not defined")}else if(Q.has(e)){if(Q.get(e).length>1)throw Error(n`Subroutine uses a duplicate group name "\g<${e}>"`)}else throw Error(n`Subroutine uses a group name that's not defined "\g<${e}>"`);return V}function _(){return{type:w.Alternative,elements:[]}}function S(e,t){let r={type:w.Assertion,kind:e};return(e===E.word_boundary||e===E.grapheme_boundary)&&(r.negate=!!t?.negate),r}function I(e,t){let r=!!t?.orphan;return{type:w.Backreference,ref:e,...r&&{orphan:r}}}function M(e,t){var r;let n=void 0!==t;if(n&&(r=t,!/^[\p{Alpha}\p{Pc}][^)]*$/u.test(r)))throw Error(`Group name "${t}" invalid in Oniguruma`);return{type:w.CapturingGroup,number:e,...n&&{name:t},alternatives:[_()]}}function P(e,t){let r={useLastValid:!1,...t};if(e>1114111){let t=e.toString(16);if(r.useLastValid)e=1114111;else throw e>1310719?Error(`Invalid code point out of range "\\x{${t}}"`):Error(`Invalid code point out of range in JS "\\x{${t}}"`)}return{type:w.Character,value:e}}function F(e){let t={kind:$.union,negate:!1,...e};return{type:w.CharacterClass,kind:t.kind,negate:t.negate,elements:[]}}function L(e,t){let r=!!t?.negate,n={type:w.CharacterSet,kind:i(o[e],`Unexpected character set kind "${e}"`)};return(e===o.digit||e===o.hex||e===o.newline||e===o.space||e===o.word)&&(n.negate=r),e!==o.grapheme&&(e!==o.newline||r)||(n.variableLength=!0),n}function N(e){let t=e?.atomic,r=e?.flags;return{type:w.Group,...t&&{atomic:t},...r&&{flags:r},alternatives:[_()]}}function R(e){let t={behind:!1,negate:!1,...e};return{type:w.LookaroundAssertion,kind:t.behind?A.lookbehind:A.lookahead,negate:t.negate,alternatives:[_()]}}function G(e,t,r,n=p.greedy){let a={type:w.Quantifier,min:t,max:r,kind:n,element:e};return r<t?{...a,min:r,max:t,kind:p.possessive}:a}function U(e,t){let r={negate:!1,normalizeUnknownPropertyNames:!1,skipPropertyNameValidation:!1,unicodePropertyMap:null,...t},a=r.unicodePropertyMap?.get(O(e));if(!a){if(r.normalizeUnknownPropertyNames)a=e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,e=>e[0].toUpperCase()+e.slice(1).toLowerCase());else if(r.unicodePropertyMap&&!r.skipPropertyNameValidation)throw Error(n`Invalid Unicode property "\p{${e}}"`)}return{type:w.CharacterSet,kind:o.property,value:a??e,negate:r.negate}}function O(e){return e.replace(/[- _]+/g,"").toLowerCase()}function B(e,t){return i(e,`${t?.value===93?"Empty":"Unclosed"} character class`)}function D(e){return i(e,"Unclosed group")}let T=String.raw,W=T`(?:\p{Emoji}\uFE0F\u20E3?|\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation})`,z=T`\u{E0061}-\u{E007A}`,V=()=>RegExp(T`[\u{1F1E6}-\u{1F1FF}]{2}|\u{1F3F4}[${z}]{2}[\u{E0030}-\u{E0039}${z}]{1,3}\u{E007F}|${W}(?:\u200D${W})*`,"gu");function j(e,t,r=null){function n(e,t){for(let r=0;r<e.length;r++){let n=a(e[r],t,r,e);r=Math.max(-1,r+n)}}function a(s,o=null,l=null,u=null){let p="Container expected",c=0,d=!1,f={node:s,parent:o,key:l,container:u,root:e,remove(){i(u,p).splice(Math.max(0,l+c),1),c--,d=!0},removeAllNextSiblings:()=>i(u,p).splice(l+1),removeAllPrevSiblings(){let e=l+c;return c-=e,i(u,p).splice(0,Math.max(0,e))},replaceWith(e,t={}){let r=!!t.traverse;u?u[Math.max(0,l+c)]=e:o[l]=e,r&&a(e,o,l,u),d=!0},replaceWithMultiple(e,t={}){let r=!!t.traverse;if(i(u,p).splice(Math.max(0,l+c),1,...e),c+=e.length-1,r){let t=0;for(let r=0;r<e.length;r++)t+=a(e[r],o,l+r+t,u)}d=!0},skip(){d=!0}},g=t["*"],h=t[s.type],m="function"==typeof g?g:g?.enter,C="function"==typeof h?h:h?.enter;if(m?.(f,r),C?.(f,r),!d)switch(s.type){case w.Regex:a(s.pattern,s,"pattern"),a(s.flags,s,"flags");break;case w.Alternative:case w.CharacterClass:n(s.elements,s);break;case w.Assertion:case w.Backreference:case w.Character:case w.CharacterSet:case w.Directive:case w.Flags:case w.Recursion:case w.Subroutine:break;case w.AbsentFunction:case w.CapturingGroup:case w.Group:case w.Pattern:n(s.alternatives,s);break;case w.CharacterClassRange:a(s.min,s,"min"),a(s.max,s,"max");break;case w.LookaroundAssertion:n(s.alternatives,s);break;case w.Quantifier:a(s.element,s,"element");break;default:throw Error(`Unexpected node type "${s.type}"`)}return g?.exit?.(f,r),h?.exit?.(f,r),c}a(e)}let H=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`,X=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function Q(e,t,r,n){let a=RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),i=[!1],s=0,o="";for(let t of e.matchAll(a)){let{0:e,groups:{$skip:a}}=t;if(!a&&(!n||n===X.DEFAULT==!s)){r instanceof Function?o+=r(t,{context:s?X.CHAR_CLASS:X.DEFAULT,negated:i[i.length-1]}):o+=r;continue}"["===e[0]?(s++,i.push("^"===e[1])):"]"===e&&s&&(s--,i.pop()),o+=e}return o}function Z(e,t,r){return!!function(e,t,r=0,n){let a;if(!RegExp(t,"su").test(e))return null;let i=RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");i.lastIndex=r;let s=0;for(;a=i.exec(e);){let{0:e,groups:{$skip:t}}=a;if(!t&&(!n||n===X.DEFAULT==!s))return a;"["===e?s++:"]"===e&&s&&s--,i.lastIndex==a.index&&i.lastIndex++}return null}(e,t,0,r)}let q=RegExp(String.raw`(?<noncapturingStart>${H})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu"),J=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,K=RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${J})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu"),Y=String.raw,ee=Y`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,et=Y`\(\?R=(?<rDepth>[^\)]+)\)|${ee}`,er=Y`\(\?<(?![=!])(?<captureName>[^>]+)>`,en=Y`${er}|(?<unnamed>\()(?!\?)`,ea=RegExp(Y`${er}|${et}|\(\?|\\?.`,"gsu"),ei="Cannot use multiple overlapping recursions";function es(e){let t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e)||(e*=1)<2||e>100)throw Error(t)}function eo(e,t,r,n,a,i,s){let o=new Set;n&&Q(e+t,er,({groups:{captureName:e}})=>{o.add(e)},X.DEFAULT);let l=[r,n?o:null,a,i,s];return`${e}${el(`(?:${e}`,"forward",...l)}(?:)${el(`${t})`,"backward",...l)}${t}`}function el(e,t,r,n,a,i,s){let o=e=>"forward"===t?e+2:r-e+2-1,l="";for(let t=0;t<r;t++){let r=o(t);l+=Q(e,Y`${en}|\\k<(?<backref>[^>]+)>`,({0:e,groups:{captureName:t,unnamed:o,backref:l}})=>{if(l&&n&&!n.has(l))return e;let u=`_$${r}`;if(o||t){let r=s+i.length+1;return i.push(r),function(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}(a,r),o?e:`(?<${t}${u}>`}return Y`\k<${l}${u}>`},X.DEFAULT)}return l}function eu(e,t,r,n,a,i){if(e.size&&n){let s=0;Q(t,en,()=>s++,X.DEFAULT);let o=i-s+a,l=new Map;return e.forEach((e,t)=>{let a=(n-s*r)/r,i=s*r,u=t>o+s?t+n:t,p=[];for(let t of e)if(t<=o)p.push(t);else if(t>o+s+a)p.push(t+n);else if(t<=o+s)for(let e=0;e<=r;e++)p.push(t+s*e);else for(let e=0;e<=r;e++)p.push(t+i+a*e);l.set(u,p)}),l}return e}var ep=String.fromCodePoint,ec=String.raw,ed={flagGroups:(()=>{try{RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{RegExp("","v")}catch{return!1}return!0})()};function ef(e,{enable:t,disable:r}){return{dotAll:!r?.dotAll&&!!(t?.dotAll||e.dotAll),ignoreCase:!r?.ignoreCase&&!!(t?.ignoreCase||e.ignoreCase)}}function eg(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}ed.literalHyphenIncorrectlyCreatesRange=(()=>{if(!ed.unicodeSets)return!1;try{RegExp(ec`[\d\-a]`,"v")}catch{return!0}return!1})();var eh={ES2025:2025,ES2024:2024,ES2018:2018},em={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function eC(e={}){if("[object Object]"!==({}).toString.call(e))throw Error("Unexpected options");if(void 0!==e.target&&!em[e.target])throw Error(`Unexpected target "${e.target}"`);let t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e.rules}};return"auto"===t.target&&(t.target=ed.flagGroups?"ES2025":ed.unicodeSets?"ES2024":"ES2018"),t}var ek=ec`[\p{L}\p{M}\p{N}\p{Pc}]`,ey=new Set([ep(304),ep(305)]);function eb(e){if(ey.has(e))return[e];let t=new Set,r=e.toLowerCase(),n=r.toUpperCase(),a=e$.get(r),i=ex.get(r),s=eE.get(r);return 1==[...n].length&&t.add(n),s&&t.add(s),a&&t.add(a),t.add(r),i&&t.add(i),[...t]}var ew=new Map(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/).map(e=>[O(e),e])),ex=new Map([["s",ep(383)],[ep(383),"s"]]),eE=new Map([[ep(223),ep(7838)],[ep(107),ep(8490)],[ep(229),ep(8491)],[ep(969),ep(8486)]]),e$=new Map([ev(453),ev(456),ev(459),ev(498),...e_(8072,8079),...e_(8088,8095),...e_(8104,8111),ev(8124),ev(8140),ev(8188)]),eA=new Map([["alnum",ec`[\p{Alpha}\p{Nd}]`],["alpha",ec`\p{Alpha}`],["ascii",ec`\p{ASCII}`],["blank",ec`[\p{Zs}\t]`],["cntrl",ec`\p{Cc}`],["digit",ec`\p{Nd}`],["graph",ec`[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]`],["lower",ec`\p{Lower}`],["print",ec`[[\P{space}&&\P{Cc}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",ec`[\p{P}\p{S}]`],["space",ec`\p{space}`],["upper",ec`\p{Upper}`],["word",ec`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",ec`\p{AHex}`]]);function ev(e){let t=ep(e);return[t.toLowerCase(),t]}function e_(e,t){return(function(e,t){let r=[];for(let n=e;n<=t;n++)r.push(n);return r})(e,t).map(e=>ev(e))}var eS=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]),eI={AbsentFunction({node:e,parent:t,replaceWith:r}){let{kind:n,alternatives:a}=e;if(n===x.repeater){let e=eW(N(),[eL(R({negate:!0}),a),U("Any")]),n=G(e,0,1/0);e.parent=n,r(eV(eW(N(),[n]),t),{traverse:!0})}else throw Error(`Unexpected absent function kind "${n}"`)},Alternative:{enter({node:e,parent:t,key:r},{flagDirectivesByAlt:n}){let a=e.elements.filter(e=>e.kind===l.flags);for(let e=r+1;e<t.alternatives.length;e++)eg(n,t.alternatives[e],[]).push(...a)},exit({node:e},{flagDirectivesByAlt:t}){if(t.get(e)?.length){let r=eU(t.get(e));if(r){let t=eV(eW(N({flags:r}),e.elements),e);e.elements=[t]}}}},Assertion({node:e,parent:t,key:r,container:n,root:a,remove:i,replaceWith:s},o){let{kind:l,negate:u}=e,{asciiWordBoundaries:p,avoidSubclass:c,supportedGNodes:d,wordIsAscii:f}=o;if(l===E.grapheme_boundary)throw Error(`Unsupported grapheme boundary "\\${u?"Y":"y"}"`);if(l===E.line_end)s(eV(eT(ec`(?=\z|\n)`),t));else if(l===E.line_start)s(eV(eT(ec`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}),t));else if(l===E.search_start)if(d.has(e))a.flags.sticky=!0,i();else{let e=n[r-1];if(e&&function(e){let t=[w.Character,w.CharacterClass,w.CharacterSet];return t.includes(e.type)||e.type===w.Quantifier&&e.min&&t.includes(e.element.type)}(e))s(eV(eW(R({negate:!0})),t));else if(c)throw Error(ec`Uses "\G" in a way that requires a subclass`);else s(eV(S(E.string_start),t)),o.strategy="clip_search"}else if(l===E.string_end||l===E.string_start);else if(l===E.string_end_newline)s(eV(eT(ec`(?=\n?\z)`),t));else if(l===E.word_boundary){if(!f&&!p){let e=`(?:(?<=${ek})(?!${ek})|(?<!${ek})(?=${ek}))`,r=`(?:(?<=${ek})(?=${ek})|(?<!${ek})(?!${ek}))`;s(eV(eT(u?r:e),t))}}else throw Error(`Unexpected assertion kind "${l}"`)},Backreference({node:e},{jsGroupNameMap:t}){let{ref:r}=e;"string"!=typeof r||eD(r)||(e.ref=r=eR(r,t))},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:r}){let{name:n}=e;n&&!eD(n)&&(e.name=n=eR(n,t)),r.set(e.number,e),n&&r.set(n,e)},CharacterClassRange({node:e,parent:t,replaceWith:r}){t.kind===$.intersection&&r(eV(eL(F(),[e]),t),{traverse:!0})},CharacterSet({node:e,parent:t,replaceWith:r},{accuracy:n,minTargetEs2024:a,digitIsAscii:i,spaceIsAscii:s,wordIsAscii:l}){let{kind:u,negate:p,value:c}=e;if(i&&(u===o.digit||"digit"===c))return void r(eV(L(o.digit,{negate:p}),t));if(s&&(u===o.space||"space"===c))return void r(eV(ez(eT("[	-\r ]"),p),t));if(l&&(u===o.word||"word"===c))return void r(eV(L(o.word,{negate:p}),t));if(u===o.any)r(eV(U("Any"),t));else if(u===o.digit)r(eV(U("Nd",{negate:p}),t));else if(u===o.dot);else if(u===o.grapheme){if("strict"===n)throw Error(ec`Use of "\X" requires non-strict accuracy`);let e=a?ec`\p{RGI_Emoji}`:V().source.replace(/\\u\{/g,`\\x{`);r(eV(eT(ec`(?>\r\n|${e}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}),t))}else if(u===o.hex)r(eV(U("AHex",{negate:p}),t));else if(u===o.newline)r(eV(eT(p?"[^\n]":"(?>\r\n?|[\n\v\f\x85\u2028\u2029])"),t));else if(u===o.posix)if(a||"graph"!==c&&"print"!==c)r(eV(ez(eT(eA.get(c)),p),t));else{if("strict"===n)throw Error(`POSIX class "${c}" requires min target ES2024 or non-strict accuracy`);let e={graph:"!-~",print:" -~"}[c];p&&(e=`\0-${ep(e.codePointAt(0)-1)}${ep(e.codePointAt(2)+1)}-\u{10FFFF}`),r(eV(eT(`[${e}]`),t))}else if(u===o.property)ew.has(O(c))||(e.key="sc");else if(u===o.space)r(eV(U("space",{negate:p}),t));else if(u===o.word)r(eV(ez(eT(ek),p),t));else throw Error(`Unexpected character set kind "${u}"`)},Directive({node:e,parent:t,root:r,remove:n,replaceWith:a,removeAllPrevSiblings:i,removeAllNextSiblings:s}){let{kind:o,flags:u}=e;if(o===l.flags)u.enable||u.disable?a(eV(eW(N({flags:u}),s()),t),{traverse:!0}):n();else if(o===l.keep){let e=r.pattern.alternatives[0].elements[0],n=eB(r.pattern,e=>e.type===w.Group)&&1===e.alternatives.length?e:r.pattern;if(t.parent!==n||n.alternatives.length>1)throw Error(ec`Uses "\K" in a way that's unsupported`);a(eV(eW(R({behind:!0}),i()),t))}else throw Error(`Unexpected directive kind "${o}"`)},Flags({node:e,parent:t}){if(e.posixIsAscii)throw Error('Unsupported flag "P"');["digitIsAscii","extended","posixIsAscii","spaceIsAscii","wordIsAscii"].forEach(t=>delete e[t]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;let{enable:t,disable:r}=e.flags;t?.extended&&delete t.extended,r?.extended&&delete r.extended,t?.dotAll&&r?.dotAll&&delete t.dotAll,t?.ignoreCase&&r?.ignoreCase&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,r&&!Object.keys(r).length&&delete e.flags.disable,e.flags.enable||e.flags.disable||delete e.flags},LookaroundAssertion({node:e},t){let{kind:r}=e;r===A.lookbehind&&(t.passedLookbehind=!0)},Pattern:{enter({node:e},{supportedGNodes:t}){let r=[],n=!1,a=!1;for(let t of e.alternatives)if(1===t.elements.length&&t.elements[0].kind===E.search_start)t.elements.pop();else{let e=function e(t){let r=t.find(e=>e.kind===E.search_start||function(e,t){let r={negate:null,...t};return e.type===w.LookaroundAssertion&&(null===r.negate||e.negate===r.negate)&&eB(e,e=>e.kind===E.search_start)}(e,{negate:!1})||!function({type:e}){return e===w.Assertion||e===w.Directive||e===w.LookaroundAssertion}(e));if(!r)return null;if(r.kind===E.search_start)return r;if(r.type===w.LookaroundAssertion)return r.alternatives[0].elements[0];if(r.type===w.CapturingGroup||r.type===w.Group){let t=[];for(let n of r.alternatives){let r=e(n.elements);if(!r)return null;Array.isArray(r)?t.push(...r):t.push(r)}return t}return null}(t.elements);e?(n=!0,Array.isArray(e)?r.push(...e):r.push(e)):a=!0}n&&!a&&r.forEach(e=>t.add(e))},exit(e,{accuracy:t,passedLookbehind:r,strategy:n}){if("strict"===t&&r&&n)throw Error(ec`Uses "\G" in a way that requires non-strict accuracy`)}},Quantifier({node:e}){if(e.element.type===w.Quantifier){let t=eV(eW(N(),[e.element]),e);e.element=t}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:r}=e;"string"!=typeof r||eD(r)||(e.ref=r=eR(r,t))}},eM={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:r}){let{orphan:n,ref:a}=e;n||r.set(e,[...t.get(a).map(({node:e})=>e)])},CapturingGroup:{enter({node:e,parent:t,replaceWith:r,skip:n},{groupOriginByCopy:a,groupsByName:i,multiplexCapturesToLeftByRef:s,openRefs:o,reffedNodesByReferencer:l}){let u=a.get(e);if(u&&o.has(e.number)){let n=eV(eN(e.number),t);l.set(n,o.get(e.number)),r(n);return}o.set(e.number,e),s.set(e.number,[]),e.name&&eg(s,e.name,[]);let p=s.get(e.name??e.number);for(let t=0;t<p.length;t++){let r=p[t];if(u===r.node||u&&u===r.origin||e===r.origin){p.splice(t,1);break}}if(s.get(e.number).push({node:e,origin:u}),e.name&&s.get(e.name).push({node:e,origin:u}),e.name){let t=eg(i,e.name,new Map),r=!1;if(u)r=!0;else for(let e of t.values())if(!e.hasDuplicateNameToRemove){r=!0;break}i.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:r})}},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=ef(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Recursion({node:e,parent:t},{reffedNodesByReferencer:r}){let{ref:n}=e,a=t;for(;(a=a.parent)&&(a.type!==w.CapturingGroup||a.name!==n&&a.number!==n););r.set(e,a)},Subroutine({node:e,parent:t,replaceWith:r},n){let{ref:a}=e,i=n.subroutineRefMap.get(a),s=0===a,o=s?eN(0):function e(t,r,n,a){let i=Array.isArray(t)?[]:{};for(let[s,o]of Object.entries(t))"parent"===s?i.parent=Array.isArray(n)?a:n:o&&"object"==typeof o?i[s]=e(o,r,i,n):("type"===s&&o===w.CapturingGroup&&r.set(i,r.get(t)??t),i[s]=o);return i}(i,n.groupOriginByCopy,null),l=o;if(!s){var u,p;let e=eU(function(e,t){let r=[];for(;e=e.parent;)(!t||t(e))&&r.push(e);return r}(i,e=>e.type===w.Group&&!!e.flags)),t=e?ef(n.globalFlags,e):n.globalFlags;u=t,p=n.currentFlags,(u.dotAll!==p.dotAll||u.ignoreCase!==p.ignoreCase)&&(l=eW(N({flags:function({dotAll:e,ignoreCase:t}){let r={};return(e||t)&&(r.enable={},e&&(r.enable.dotAll=!0),t&&(r.enable.ignoreCase=!0)),e&&t||(r.disable={},e||(r.disable.dotAll=!0),t||(r.disable.ignoreCase=!0)),r}(t)}),[o]))}r(eV(l,t),{traverse:!s})}},eP={Backreference({node:e,parent:t,replaceWith:r},n){if(e.orphan){n.highestOrphanBackref=Math.max(n.highestOrphanBackref,e.ref);return}let a=n.reffedNodesByReferencer.get(e).filter(t=>(function(e,t){let r=t;do{if(r.type===w.Pattern)return!1;if(r.type===w.Alternative)continue;if(r===e)return!1;for(let t of eO(r.parent)){if(t===r)break;if(t===e||function e(t,r){for(let n of eO(t)??[])if(n===r||e(n,r))return!0;return!1}(t,e))return!0}}while(r=r.parent);throw Error("Unexpected path")})(t,e));if(a.length)if(a.length>1){let e=a.map(e=>eL(_(),[I(e.number)]));r(eV(eL(N(),e),t))}else e.ref=a[0].number;else r(eV(eW(R({negate:!0})),t))},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Recursion({node:e},t){0!==e.ref&&(e.ref=t.reffedNodesByReferencer.get(e).number)},Regex:{exit({node:e},t){let r=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let t=0;t<r;t++){let t=M();e.pattern.alternatives.at(-1).elements.push(t)}}}};function eF(e){j(e,{"*"({node:e,parent:t}){e.parent=t}})}function eL(e,t){return t.forEach(t=>t.parent=e),e[eG(e)]=t,e}function eN(e){return{type:w.Recursion,ref:e}}function eR(e,t){if(t.has(e))return t.get(e);let r=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return t.set(e,r),r}function eG(e){for(let t of["alternatives","elements"])if(e[t])return t;return null}function eU(e){let t=["dotAll","ignoreCase"],r={enable:{},disable:{}};return(e.forEach(({flags:e})=>{t.forEach(t=>{e.enable?.[t]&&(delete r.disable[t],r.enable[t]=!0),e.disable?.[t]&&(r.disable[t]=!0)})}),Object.keys(r.enable).length||delete r.enable,Object.keys(r.disable).length||delete r.disable,r.enable||r.disable)?r:null}function eO(e){if(!e)throw Error("Node expected");if(e.type===w.Quantifier)return[e.element];let t=eG(e);return t&&e[t]}function eB({alternatives:e},t){return 1===e.length&&1===e[0].elements.length&&(!t||t(e[0].elements[0]))}function eD(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function eT(e,t){let r=v(e,{...t,unicodePropertyMap:ew});eF(r);let n=r.pattern.alternatives;return n.length>1||n[0].elements.length>1?eL(N(),n):n[0].elements[0]}function eW(e,t){let r=eG(e);return e[r][0].parent=e,t&&eL(e[r][0],t),e}function ez(e,t){return e.negate=t,e}function eV(e,t){return e.parent=t,e}var ej={"*":{enter({node:e},t){if(e0(e)){let r=t.getCurrentModI();t.pushModI(e.flags?ef({ignoreCase:r},e.flags).ignoreCase:r)}},exit({node:e},t){e0(e)&&t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){eJ(ep(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},r){t(),eK(e,{firstOnly:!0}).length&&r.setHasCasedChar()},CharacterSet({node:e},t){e.kind===o.property&&eS.has(e.value)&&t.setHasCasedChar()}},eH=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),eX=new Set(["-","\\","]","^","["]),eQ=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),eZ=new Map([[9,ec`\t`],[10,ec`\n`],[11,ec`\v`],[12,ec`\f`],[13,ec`\r`],[8232,ec`\u2028`],[8233,ec`\u2029`],[65279,ec`\uFEFF`]]),eq=/^\p{Cased}$/u;function eJ(e){return eq.test(e)}function eK(e,t){let r=!!t?.firstOnly,n=e.min.value,a=e.max.value,i=[];if(n<65&&(65535===a||a>=131071)||65536===n&&a>=131071)return i;for(let e=n;e<=a;e++){let t=ep(e);if(!eJ(t))continue;let s=eb(t).filter(e=>{let t=e.codePointAt(0);return t<n||t>a});if(s.length&&(i.push(...s),r))break}return i}function eY(e,{escDigit:t,inCharClass:r,useFlagV:n}){var a;if(eZ.has(e))return eZ.get(e);if(e<32||e>126&&e<160||e>262143||t&&(a=e)>47&&a<58)return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;let i=ep(e);return((r?n?eQ:eX:eH).has(i)?"\\":"")+i}function e0({type:e}){return e===w.Group||e===w.CapturingGroup||e===w.LookaroundAssertion}function e1({type:e,value:t}){return e===w.Character&&45===t}var e2=class e extends RegExp{#e=new Map;#t=null;#r;#n=null;#a=null;rawOptions={};get source(){return this.#r||"(?:)"}constructor(t,r,n){let a=!!n?.lazyCompile;if(t instanceof RegExp){if(n)throw Error("Cannot provide options when copying a regexp");super(t,r),this.#r=t.source,t instanceof e&&(this.#e=t.#e,this.#n=t.#n,this.#a=t.#a,this.rawOptions=t.rawOptions)}else{let e={hiddenCaptures:[],strategy:null,transfers:[],...n};super(a?"":t,r),this.#r=t,this.#e=function(e,t){let r=new Map;for(let t of e)r.set(t,{hidden:!0});for(let[e,n]of t)for(let t of n)eg(r,t,{}).transferTo=e;return r}(e.hiddenCaptures,e.transfers),this.#a=e.strategy,this.rawOptions=n??{}}a||(this.#t=this)}exec(t){if(!this.#t){let{lazyCompile:t,...r}=this.rawOptions;this.#t=new e(this.#r,this.flags,r)}let r=this.global||this.sticky,n=this.lastIndex;if("clip_search"===this.#a&&r&&n){this.lastIndex=0;let e=this.#i(t.slice(n));return e&&(function(e,t,r,n){if(e.index+=t,e.input=r,n){let r=e.indices;for(let e=0;e<r.length;e++){let n=r[e];n&&(r[e]=[n[0]+t,n[1]+t])}let n=r.groups;n&&Object.keys(n).forEach(e=>{let r=n[e];r&&(n[e]=[r[0]+t,r[1]+t])})}}(e,n,t,this.hasIndices),this.lastIndex+=n),e}return this.#i(t)}#i(e){let t;this.#t.lastIndex=this.lastIndex;let r=super.exec.call(this.#t,e);if(this.lastIndex=this.#t.lastIndex,!r||!this.#e.size)return r;let n=[...r];r.length=1,this.hasIndices&&(t=[...r.indices],r.indices.length=1);let a=[0];for(let e=1;e<n.length;e++){let{hidden:i,transferTo:s}=this.#e.get(e)??{};if(i?a.push(null):(a.push(r.length),r.push(n[e]),this.hasIndices&&r.indices.push(t[e])),s&&void 0!==n[e]){let i=function(e,t){if(!e)throw Error((void 0)??"Value expected");return e}(a[s]);if(r[i]=n[e],this.hasIndices&&(r.indices[i]=t[e]),r.groups){this.#n||(this.#n=function(e){let t,r=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,n=new Map,a=0,i=0;for(;t=r.exec(e);){let{0:e,groups:{capture:r,name:s}}=t;"["===e?a++:a?"]"===e&&a--:r&&(i++,s&&n.set(i,s))}return n}(this.source));let a=this.#n.get(s);a&&(r.groups[a]=n[e],this.hasIndices&&(r.indices.groups[a]=t[e]))}}}return r}};class e8{constructor(e,t={}){this.patterns=e,this.options=t;let{forgiving:r=!1,cache:n,regexConstructor:a}=t;if(!a)throw Error("Option `regexConstructor` is not provided");this.regexps=e.map(e=>{if("string"!=typeof e)return e;let t=n?.get(e);if(t){if(t instanceof RegExp)return t;if(r)return null;throw t}try{let t=a(e);return n?.set(e,t),t}catch(t){if(n?.set(e,t),r)return null;throw t}})}regexps;findNextMatchSync(e,t,r){let n="string"==typeof e?e:e.content,a=[];function i(e,t,r=0){return{index:e,captureIndices:t.indices.map(e=>null==e?{start:0xffffffff,end:0xffffffff,length:0}:{start:e[0]+r,end:e[1]+r,length:e[1]-e[0]})}}for(let e=0;e<this.regexps.length;e++){let r=this.regexps[e];if(r)try{r.lastIndex=t;let s=r.exec(n);if(!s)continue;if(s.index===t)return i(e,s,0);a.push([e,s,0])}catch(e){if(this.options.forgiving)continue;throw e}}if(a.length){let e=Math.min(...a.map(e=>e[1].index));for(let[t,r,n]of a)if(r.index===e)return i(t,r,n)}return null}}function e3(e,t){let r=function(e,t){let r=eC(t),n=function(e,t){let r={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...t};eF(e);let n={accuracy:r.accuracy,asciiWordBoundaries:r.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:eh[r.bestEffortTarget]>=eh.ES2024,passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};j(e,eI,n);let a={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},i={currentFlags:a,prevFlags:null,globalFlags:a,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:n.subroutineRefMap};return j(e,eM,i),j(e,eP,{groupsByName:i.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:i.reffedNodesByReferencer}),e._originMap=i.groupOriginByCopy,e._strategy=n.strategy,e}(v(e,{flags:r.flags,normalizeUnknownPropertyNames:!0,rules:{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline},skipBackrefValidation:r.rules.allowOrphanBackrefs,unicodePropertyMap:ew}),{accuracy:r.accuracy,asciiWordBoundaries:r.rules.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,bestEffortTarget:r.target}),a=function(e,t){let r=eC(t),n=eh[r.target]>=eh.ES2024,a=eh[r.target]>=eh.ES2025,i=r.rules.recursionLimit;if(!Number.isInteger(i)||i<2||i>20)throw Error("Invalid recursionLimit; use 2-20");let s=null,l=null;if(!a){let t=[e.flags.ignoreCase];j(e,ej,{getCurrentModI:()=>t.at(-1),popModI(){t.pop()},pushModI(e){t.push(e)},setHasCasedChar(){t.at(-1)?s=!0:l=!0}})}let u={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||s)&&!l)},p=null,c={accuracy:r.accuracy,appliedGlobalFlags:u,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:p,originMap:e._originMap,recursionLimit:i,useAppliedIgnoreCase:!!(!a&&s&&l),useFlagMods:a,useFlagV:n,verbose:r.verbose},d=function e(t){switch(c.lastNode=p,p=t,t.type){case w.Regex:return{pattern:e(t.pattern),flags:e(t.flags),options:{...t.options}};case w.Alternative:return t.elements.map(e).join("");case w.Assertion:return function({kind:e,negate:t}){if(e===E.string_end)return"$";if(e===E.string_start)return"^";if(e===E.word_boundary)return t?ec`\B`:ec`\b`;throw Error(`Unexpected assertion kind "${e}"`)}(t);case w.Backreference:return function({ref:e},t){if("number"!=typeof e)throw Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&"strict"===t.accuracy&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e}(t,c);case w.CapturingGroup:var r,n=t,a=c,i=e;let{name:s,number:l,alternatives:u}=n,d={ignoreCase:a.currentFlags.ignoreCase},f=a.originMap.get(n);return f&&(d.hidden=!0,l>f.number&&(d.transferTo=f.number)),a.captureMap.set(l,d),`(${s?`?<${s}>`:""}${u.map(i).join("|")})`;case w.Character:return function({value:e},t){let r=ep(e),n=eY(e,{escDigit:t.lastNode.type===w.Backreference,inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(n!==r)return n;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&eJ(r)){let e=eb(r);return t.inCharClass?e.join(""):e.length>1?`[${e.join("")}]`:e[0]}return r}(t,c);case w.CharacterClass:return function(e,t,r){let{kind:n,negate:a,parent:i}=e,{elements:s}=e;if(n===$.intersection&&!t.useFlagV)throw Error("Use of class intersection requires min target ES2024");ed.literalHyphenIncorrectlyCreatesRange&&t.useFlagV&&s.some(e1)&&(s=s.filter(e=>!e1(e))).push(P(45));let o=()=>`[${a?"^":""}${s.map(r).join(n===$.intersection?"&&":"")}]`;if(!t.inCharClass){if(!t.useFlagV&&!a){let t=s.filter(e=>e.type===w.CharacterClass&&e.kind===$.union&&e.negate);if(t.length){let n=N(),a=n.alternatives[0];return n.parent=i,a.parent=n,e.elements=s=s.filter(e=>!t.includes(e)),s.length?(e.parent=a,a.elements.push(e)):n.alternatives.pop(),t.forEach(e=>{let t=_();t.parent=n,e.parent=t,t.elements.push(e),n.alternatives.push(t)}),r(n)}}t.inCharClass=!0;let n=o();return t.inCharClass=!1,n}let l=s[0];if(n===$.union&&!a&&l&&((!t.useFlagV||!t.verbose)&&i.kind===$.union&&!(ed.literalHyphenIncorrectlyCreatesRange&&t.useFlagV)||!t.verbose&&i.kind===$.intersection&&1===s.length&&l.type!==w.CharacterClassRange))return s.map(r).join("");if(!t.useFlagV&&i.type===w.CharacterClass)throw Error("Use of nested character class requires min target ES2024");return o()}(t,c,e);case w.CharacterClassRange:return function(e,t){let r=e.min.value,n=e.max.value,a={escDigit:!1,inCharClass:!0,useFlagV:t.useFlagV},i=eY(r,a),s=eY(n,a),o=new Set;return t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&(function(e){let t=e.map(e=>e.codePointAt(0)).sort((e,t)=>e-t),r=[],n=null;for(let e=0;e<t.length;e++)t[e+1]===t[e]+1?n??=t[e]:null===n?r.push(t[e]):(r.push([n,t[e]]),n=null);return r})(eK(e)).forEach(e=>{o.add(Array.isArray(e)?`${eY(e[0],a)}-${eY(e[1],a)}`:eY(e,a))}),`${i}-${s}${[...o].join("")}`}(t,c);case w.CharacterSet:return function({kind:e,negate:t,value:r,key:n},a){if(e===o.dot)return a.currentFlags.dotAll?a.appliedGlobalFlags.dotAll||a.useFlagMods?".":"[^]":ec`[^\n]`;if(e===o.digit)return t?ec`\D`:ec`\d`;if(e===o.property){if(a.useAppliedIgnoreCase&&a.currentFlags.ignoreCase&&eS.has(r))throw Error(`Unicode property "${r}" can't be case-insensitive when other chars have specific case`);return`${t?ec`\P`:ec`\p`}{${n?`${n}=`:""}${r}}`}if(e===o.word)return t?ec`\W`:ec`\w`;throw Error(`Unexpected character set kind "${e}"`)}(t,c);case w.Flags:return r=t,(c.appliedGlobalFlags.ignoreCase?"i":"")+(r.dotAll?"s":"")+(r.sticky?"y":"");case w.Group:return function({atomic:e,flags:t,parent:r,alternatives:n},a,i){let s=a.currentFlags;t&&(a.currentFlags=ef(s,t));let o=n.map(i).join("|"),l=a.verbose||1!==n.length||r.type===w.Quantifier||e||a.useFlagMods&&t?`(?${function(e,t,r){if(e)return">";let n="";if(t&&r){let{enable:e,disable:r}=t;n=(e?.ignoreCase?"i":"")+(e?.dotAll?"s":"")+(r?"-":"")+(r?.ignoreCase?"i":"")+(r?.dotAll?"s":"")}return`${n}:`}(e,t,a.useFlagMods)}${o})`:o;return a.currentFlags=s,l}(t,c,e);case w.LookaroundAssertion:return function({kind:e,negate:t,alternatives:r},n,a){let i=`${e===A.lookahead?"":"<"}${t?"!":"="}`;return`(?${i}${r.map(a).join("|")})`}(t,0,e);case w.Pattern:return t.alternatives.map(e).join("|");case w.Quantifier:return e(t.element)+function({min:e,max:t,kind:r}){let n;return(e||1!==t?e||t!==1/0?1===e&&t===1/0?"+":e===t?`{${e}}`:`{${e},${t===1/0?"":t}}`:"*":"?")+({greedy:"",lazy:"?",possessive:"+"})[r]}(t);case w.Recursion:return function({ref:e},t){let r=t.recursionLimit;return 0===e?`(?R=${r})`:ec`\g<${e}&R=${r}>`}(t,c);default:throw Error(`Unexpected node type "${t.type}"`)}}(e);return n||(delete d.options.force.v,d.options.disable.v=!0,d.options.unicodeSetsPlugin=null),d._captureTransfers=new Map,d._hiddenCaptures=[],c.captureMap.forEach((e,t)=>{e.hidden&&d._hiddenCaptures.push(t),e.transferTo&&eg(d._captureTransfers,e.transferTo,[]).push(t)}),d}(n,r),i=function(e,t){let r,{hiddenCaptures:n,mode:a}={hiddenCaptures:[],mode:"plugin",...t},i=t?.captureTransfers??new Map;if(!RegExp(et,"su").test(e))return{pattern:e,captureTransfers:i,hiddenCaptures:n};if("plugin"===a&&Z(e,Y`\(\?\(DEFINE\)`,X.DEFAULT))throw Error("DEFINE groups cannot be used with recursion");let s=[],o=Z(e,Y`\\[1-9]`,X.DEFAULT),l=new Map,u=[],p=!1,c=0,d=0;for(ea.lastIndex=0;r=ea.exec(e);){let{0:t,groups:{captureName:f,rDepth:g,gRNameOrNum:h,gRDepth:m}}=r;if("["===t)c++;else if(c)"]"===t&&c--;else if(g){if(es(g),p)throw Error(ei);if(o)throw Error(`${"external"===a?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);let t=e.slice(0,r.index),l=e.slice(ea.lastIndex);if(Z(l,et,X.DEFAULT))throw Error(ei);let u=g-1;e=eo(t,l,u,!1,n,s,d),i=eu(i,t,u,s.length,0,d);break}else if(h){es(m);let c=!1;for(let e of u)if(e.name===h||e.num===+h){if(c=!0,e.hasRecursedWithin)throw Error(ei);break}if(!c)throw Error(Y`Recursive \g cannot be used outside the referenced group "${"external"===a?h:Y`\g<${h}&R=${m}>`}"`);let f=l.get(h),g=function(e,t){let r,n=/\\?./gsu;n.lastIndex=t;let a=e.length,i=0,s=1;for(;r=n.exec(e);){let[e]=r;if("["===e)i++;else if(i)"]"===e&&i--;else if("("===e)s++;else if(")"===e&&!--s){a=r.index;break}}return e.slice(t,a)}(e,f);if(o&&Z(g,Y`${er}|\((?!\?)`,X.DEFAULT))throw Error(`${"external"===a?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);let C=e.slice(f,r.index),k=g.slice(C.length+t.length),y=s.length,b=m-1,w=eo(C,k,b,!0,n,s,d);i=eu(i,C,b,s.length-y,y,d);let x=e.slice(0,f),E=e.slice(f+g.length);e=`${x}${w}${E}`,ea.lastIndex+=w.length-t.length-C.length-k.length,u.forEach(e=>e.hasRecursedWithin=!0),p=!0}else if(f)d++,l.set(String(d),ea.lastIndex),l.set(f,ea.lastIndex),u.push({num:d,name:f});else if("("===t[0]){let e="("===t;e&&(d++,l.set(String(d),ea.lastIndex)),u.push(e?{num:d}:{})}else")"===t&&u.pop()}return n.push(...s),{pattern:e,captureTransfers:i,hiddenCaptures:n}}(a.pattern,{captureTransfers:a._captureTransfers,hiddenCaptures:a._hiddenCaptures,mode:"external"}),s=function(e,t){let r,n=t?.hiddenCaptures??[],a=t?.captureTransfers??new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:a,hiddenCaptures:n};let i="(?:(?=(",s=[0],o=[],l=0,u=0,p=NaN;do{let t;r=!1;let c=0,d=0,f=!1;for(q.lastIndex=Number.isNaN(p)?0:p+i.length;t=q.exec(e);){let{0:g,index:h,groups:{capturingStart:m,noncapturingStart:C}}=t;if("["===g)c++;else if(c)"]"===g&&c--;else if("(?>"!==g||f){if(f&&C)d++;else if(m)f?d++:(l++,s.push(l+u));else if(")"===g&&f){if(!d){let t=l+ ++u;e=`${e.slice(0,p)}${i}${e.slice(p+3,h)}))<$$${t}>)${e.slice(h+1)}`,r=!0,o.push(t);for(let e=0;e<n.length;e++)n[e]>=t&&n[e]++;if(a.size){let e=new Map;a.forEach((r,n)=>{e.set(n>=t?n+1:n,r.map(e=>e>=t?e+1:e))}),a=e}break}d--}}else p=h,f=!0}}while(r);return n.push(...o),{pattern:e=Q(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:e,groups:{backrefNum:t,wrappedBackrefNum:r}})=>{if(t){let r=+t;if(r>s.length-1)throw Error(`Backref "${e}" greater than number of captures`);return`\\${s[r]}`}return`\\${r}`},X.DEFAULT),captureTransfers:a,hiddenCaptures:n}}(function(e){let t;if(!RegExp(`${J}\\+`).test(e))return{pattern:e};let r=[],n=null,a=null,i="",s=0;for(K.lastIndex=0;t=K.exec(e);){let{0:u,index:p,groups:{qBase:c,qMod:d,invalidQ:f}}=t;if("["===u)s||(a=p),s++;else if("]"===u)s?s--:a=null;else if(!s)if("+"===d&&i&&!i.startsWith("(")){if(f)throw Error(`Invalid quantifier "${u}"`);let t=-1;if(/^\{\d+\}$/.test(c)){var o,l;o=e,l=p+c.length,e=o.slice(0,l)+""+o.slice(l+d.length)}else{if(")"===i||"]"===i){let t=")"===i?n:a;if(null===t)throw Error(`Invalid unmatched "${i}"`);e=`${e.slice(0,t)}(?>${e.slice(t,p)}${c})${e.slice(p+u.length)}`}else e=`${e.slice(0,p-i.length)}(?>${i}${c})${e.slice(p+u.length)}`;t+=4}K.lastIndex+=t}else"("===u[0]?r.push(p):")"===u&&(n=r.length?r.pop():null);i=u}return{pattern:e}}(i.pattern).pattern,{captureTransfers:i.captureTransfers,hiddenCaptures:i.hiddenCaptures}),l={pattern:s.pattern,flags:`${r.hasIndices?"d":""}${r.global?"g":""}${a.flags}${a.options.disable.v?"u":"v"}`};if(r.avoidSubclass){if(r.lazyCompileLength!==1/0)throw Error("Lazy compilation requires subclass")}else{let e=s.hiddenCaptures.sort((e,t)=>e-t),t=Array.from(s.captureTransfers),a=n._strategy,i=l.pattern.length>=r.lazyCompileLength;(e.length||t.length||a||i)&&(l.options={...e.length&&{hiddenCaptures:e},...t.length&&{transfers:t},...a&&{strategy:a},...i&&{lazyCompile:i}})}return l}(e,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...t});return r.options?new e2(r.pattern,r.flags,r.options):new RegExp(r.pattern,r.flags)}function e4(e={}){let t=Object.assign({target:"auto",cache:new Map},e);return t.regexConstructor||=e=>e3(e,{target:t.target}),{createScanner:e=>new e8(e,t),createString:e=>({content:e})}}function e5(){let e={cache:new Map,regexConstructor:()=>{throw Error("JavaScriptRawEngine: only support precompiled grammar")}};return{createScanner:t=>new e8(t,e),createString:e=>({content:e})}}}}]);